<!DOCTYPE html>
<!DOCTYPE html><html lang="en"><head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Associative arrays</title>
    <link href="https://fonts.googleapis.com/css?family=Inconsolata:400,700|Poppins:400,400i,500,700,700i&amp;subset=latin-ext" rel="stylesheet">
    <link rel="stylesheet" href="./css/mini-default.css">
    <meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1">
    
  </head>
  <body>
    <pre>{
  "frontMatter": {
    "title": "Associative arrays",
    "people": {
      "name": "John Smith",
      "age": 33
    },
    "morePeople": {
      "name": "Grace Jones",
      "age": 21
    }
  },
  "docTitle": null
}</pre>

    
<h1><a id="Heading_tableofcontents"></a><a class="header-anchor" href="#Heading-table-of-contents">
        <svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true">
          <path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path>
        </svg></a> Heading: table-of-contents</h1>
<p><a href="./toc.html">toc</a></p>
<h1><a id="Heading_toc"></a><a class="header-anchor" href="#Heading-toc">
        <svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true">
          <path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path>
        </svg></a> Heading: toc</h1>
<p></p><h3>Title</h3><ul><li><a href="#Heading_tableofcontents">Heading: table-of-contents</a></li><li><a href="#Heading_toc">Heading: toc</a></li><li><a href="#Heading_tocandanchor">Heading: toc-and-anchor</a></li><li><a href="#Heading_tocdoneright">Heading: toc-done-right</a></li><ul><li><a href="#Sub_heading_1">Sub heading 1</a></li><li><a href="#Sub_heading_2">Sub heading 2</a></li><ul><li><a href="#Subsub_heading_21">Subsub heading 2.1</a></li><li><a href="#Subsub_heading_22">Subsub heading 2.2</a></li></ul><li><a href="#Sub_heading_3">Sub heading 3</a></li><li><a href="#Sub_heading_4">Sub heading 4</a></li></ul><li><a href="#Testing_more">Testing more...</a></li><ul><li><a href="#foo">foo</a></li></ul><li><a href="#This_particular_issue_is_For_Developers_Only">This particular issue is *For Developers Only*</a></li><ul><li><a href="#Why">Why?</a></li></ul><li><a href="#Observed_Crappiness">Observed Crappiness?</a></li><li><a href="#Crazy_Ideas_To_Try">*Crazy Ideas* To Try?</a></li></ul><p></p>
<h1><a id="Heading_tocandanchor"></a><a class="header-anchor" href="#Heading-toc-and-anchor">
        <svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true">
          <path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path>
        </svg></a> Heading: toc-and-anchor</h1>
<p></p><h3>Table of Contents</h3><ul><li><a href="#Heading_tableofcontents_1">Heading: table-of-contents</a></li><li><a href="#Heading_toc_1">Heading: toc</a></li><li><a href="#Heading_tocandanchor_1">Heading: toc-and-anchor</a></li><li><a href="#Heading_tocdoneright_1">Heading: toc-done-right</a></li><ul><li><a href="#Sub_heading_1_1">Sub heading 1</a></li><li><a href="#Sub_heading_2_1">Sub heading 2</a></li><ul><li><a href="#Subsub_heading_21_1">Subsub heading 2.1</a></li><li><a href="#Subsub_heading_22_1">Subsub heading 2.2</a></li></ul><li><a href="#Sub_heading_3_1">Sub heading 3</a></li><li><a href="#Sub_heading_4_1">Sub heading 4</a></li></ul><li><a href="#Testing_more_1">Testing more...</a></li><ul><li><a href="#foo_1">foo</a></li></ul><li><a href="#This_particular_issue_is_For_Developers_Only_1">This particular issue is *For Developers Only*</a></li><ul><li><a href="#Why_1">Why?</a></li></ul><li><a href="#Observed_Crappiness_1">Observed Crappiness?</a></li><li><a href="#Crazy_Ideas_To_Try_1">*Crazy Ideas* To Try?</a></li></ul><p></p>
<h1><a id="Heading_tocdoneright"></a><a class="header-anchor" href="#Heading-toc-done-right">
        <svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true">
          <path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path>
        </svg></a> Heading: toc-done-right</h1>
<p>Note that this plugin will also patch the <code>[[toc]]</code> marker, so…</p>
<nav class="table-of-contents"><ol><li><a href="#Heading-table-of-contents">Heading: table-of-contents</a></li><li><a href="#Heading-toc">Heading: toc</a></li><li><a href="#Heading-toc-and-anchor">Heading: toc-and-anchor</a></li><li><a href="#Heading-toc-done-right">Heading: toc-done-right</a><ol><li><a href="#Sub-heading-1">Sub heading 1</a></li><li><a href="#Sub-heading-2">Sub heading 2</a><ol><li><a href="#Subsub-heading-21">Subsub heading 2.1</a></li><li><a href="#Subsub-heading-22">Subsub heading 2.2</a></li></ol></li><li><a href="#Sub-heading-3">Sub heading 3</a></li><li><a href="#Sub-heading-4">Sub heading 4</a></li></ol></li><li><a href="#Testing-more">Testing more…</a><ol><li><a href="#foo">foo</a></li></ol></li><li><a href="#This-particular-issue-is-For-Developers-Only">This particular issue is For Developers Only</a><ol><li><a href="#Why">Why?</a></li></ol></li><li><a href="#Observed-Crappiness">Observed Crappiness?</a></li><li><a href="#Crazy-Ideas-To-Try">Crazy Ideas To Try?</a></li></ol></nav><h2><a id="Sub_heading_1"></a><a class="header-anchor" href="#Sub-heading-1">
        <svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true">
          <path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path>
        </svg></a> Sub heading 1</h2>
<p>Some nice text, press <kbd>Ctrl A</kbd> or <kbd>F12</kbd></p>
<p>furi:</p>
<ul>
<li>should parse basic <ruby>body<rp>【</rp><rt>toptext</rt><rp>】</rp></ruby>…</li>
<li><ruby>漢字<rp>【</rp><rt>かんじ</rt><rp>】</rp></ruby></li>
<li>Foo <ruby>漢字<rp>【</rp><rt>かんじ</rt><rp>】</rp></ruby> bar.</li>
<li>Foo <ruby>漢字<rp>【</rp><rt>かんじ</rt><rp>】</rp></ruby> bar <ruby>猫<rp>【</rp><rt>ねこ</rt><rp>】</rp></ruby> baz.</li>
<li><ruby>食<rp>【</rp><rt>た</rt><rp>】</rp>べる<rt></rt></ruby></li>
<li><ruby>取<rp>【</rp><rt>と</rt><rp>】</rp>り<rt></rt>返<rp>【</rp><rt>かえ</rt><rp>】</rp>す<rt></rt></ruby></li>
<li><ruby>漢<rp>【</rp><rt>かん</rt><rp>】</rp>字<rp>【</rp><rt>じ</rt><rp>】</rp></ruby></li>
<li><ruby>可<rp>【</rp><rt>か</rt><rp>】</rp>愛<rp>【</rp><rt>わい</rt><rp>】</rp>い<rt></rt>犬<rp>【</rp><rt>いぬ</rt><rp>】</rp></ruby></li>
<li><ruby>可愛<rp>【</rp><rt>かわい</rt><rp>】</rp>い<rt></rt>犬<rp>【</rp><rt>いぬ</rt><rp>】</rp></ruby></li>
<li><ruby>猫<rp>【</rp><rt>ねこ</rt><rp>】</rp>！？<rt></rt>可愛<rp>【</rp><rt>かわい</rt><rp>】</rp>い！！！w<rt></rt></ruby></li>
<li><ruby>食べる<rp>【</rp><rt>たべべ</rt><rp>】</rp></ruby></li>
<li><ruby>アクセラレーター<rp>【</rp><rt>accelerator</rt><rp>】</rp></ruby></li>
<li><ruby>cat<rp>【</rp><rt>ねこ</rt><rp>】</rp></ruby></li>
<li><ruby>可愛い<rp>【</rp><rt>kawaii</rt><rp>】</rp></ruby></li>
<li><ruby>犬<rp>【</rp><rt>いぬ</rt><rp>】</rp>犬<rp>【</rp><rt>いぬ</rt><rp>】</rp>犬<rp>【</rp><rt>いぬ</rt><rp>】</rp>犬<rp>【</rp><rt>いぬ</rt><rp>】</rp>犬<rp>【</rp><rt>いぬ</rt><rp>】</rp>犬<rp>【</rp><rt>いぬ</rt><rp>】</rp>犬<rp>【</rp><rt>いぬ</rt><rp>】</rp>犬<rp>【</rp><rt>いぬ</rt><rp>】</rp>犬<rp>【</rp><rt>いぬ</rt><rp>】</rp>犬<rp>【</rp><rt>いぬ</rt><rp>】</rp>犬<rp>【</rp><rt>いぬ</rt><rp>】</rp></ruby></li>
<li><ruby>可愛<rp>【</rp><rt>かわい</rt><rp>】</rp>い<rt></rt>犬<rp>【</rp><rt>いぬ</rt><rp>】</rp></ruby></li>
<li><ruby>漢<rp>【</rp><rt>kan</rt><rp>】</rp>字<rp>【</rp><rt>ji</rt><rp>】</rp></ruby></li>
<li><ruby>食べる<rp>【</rp><rt>たべる</rt><rp>】</rp></ruby></li>
<li><ruby>食べる<rp>【</rp><rt>たべる</rt><rp>】</rp></ruby></li>
<li><ruby>猫<rp>【</rp><rt>ね=こ</rt><rp>】</rp>だ<rt></rt></ruby></li>
<li><ruby>猫<rp>【</rp><rt>ね＝こ</rt><rp>】</rp>だ<rt></rt></ruby></li>
<li><ruby>ダメな<rt></rt>奴<rp>【</rp><rt>やつ</rt><rp>】</rp></ruby></li>
<li><ruby>ﾀﾞﾒな<rt></rt>奴<rp>【</rp><rt>やつ</rt><rp>】</rp></ruby></li>
<li><ruby>猫だ<rp>【</rp><rt>ねこだよ</rt><rp>】</rp></ruby></li>
<li><ruby>は猫<rp>【</rp><rt>これはねこ</rt><rp>】</rp></ruby></li>
<li><ruby>だ<rt>●</rt>か<rt>●</rt>ら<rt>●</rt></ruby></li>
<li><ruby>だ<rt>●</rt>か<rt>●</rt>ら<rt>●</rt></ruby></li>
<li><ruby>だ<rt>+</rt>か<rt>+</rt>ら<rt>+</rt></ruby></li>
<li><ruby>猫<rt>●</rt>i<rt>●</rt>s<rt>●</rt>❤<rt>●</rt></ruby></li>
<li><ruby>猫<rp>【</rp><rt>ね*こ</rt><rp>】</rp>だ<rt></rt></ruby></li>
<li><ruby>猫<rp>【</rp><rt>ね＊こ</rt><rp>】</rp>だ<rt></rt></ruby></li>
<li><ruby>漢字<rp>【</rp><rt>かんじ</rt><rp>】</rp></ruby></li>
<li><ruby>犬<rp>【</rp><rt>いぬ</rt><rp>】</rp>犬<rp>【</rp><rt>いぬ</rt><rp>】</rp>犬犬犬犬犬<rp>【</rp><rt>いぬ_いぬ-いぬ\\いぬ]いぬ</rt><rp>】</rp></ruby></li>
<li><ruby>可愛<rp>【</rp><rt>かわい</rt><rp>】</rp>い<rt></rt>犬<rp>【</rp><rt>いぬ</rt><rp>】</rp></ruby></li>
<li><ruby>可<rp>【</rp><rt>か*わい</rt><rp>】</rp>愛<rp>【</rp><rt>い</rt><rp>】</rp>い<rt></rt>犬<rp>【</rp><rt>ぬ</rt><rp>】</rp></ruby></li>
</ul>
<h2><a id="Sub_heading_2"></a><a class="header-anchor" href="#Sub-heading-2">
        <svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true">
          <path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path>
        </svg></a> Sub heading 2</h2>
<p>Some even nicer text</p>
<h3><a id="Subsub_heading_21"></a><a class="header-anchor" href="#Subsub-heading-21">
        <svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true">
          <path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path>
        </svg></a> Subsub heading 2.1</h3>
<p>Some even nicer text</p>
<h3><a id="Subsub_heading_22"></a><a class="header-anchor" href="#Subsub-heading-22">
        <svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true">
          <path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path>
        </svg></a> Subsub heading 2.2</h3>
<p>Some even nicer text</p>
<h2><a id="Sub_heading_3"></a><a class="header-anchor" href="#Sub-heading-3">
        <svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true">
          <path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path>
        </svg></a> Sub heading 3</h2>
<p>Some even nicer text</p>
<h2><a id="Sub_heading_4"></a><a class="header-anchor" href="#Sub-heading-4">
        <svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true">
          <path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path>
        </svg></a> Sub heading 4</h2>
<p>Some even nicer text</p>
<h1><a id="Testing_more"></a><a class="header-anchor" href="#Testing-more">
        <svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true">
          <path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path>
        </svg></a> Testing more…</h1>
<p>Here is a footnote reference,<sup class="footnote-ref"><a href="#fn1" id="fnref1">[1]</a></sup> and another.<sup class="footnote-ref"><a href="#fn2" id="fnref2">[2]</a></sup></p>
<p>This paragraph won’t be part of the note, because it
isn’t indented.</p>
<p>They could terminate each other:</p>
<p>.
<sup class="footnote-ref"><a href="#fn3" id="fnref3">[3]</a></sup><sup class="footnote-ref"><a href="#fn4" id="fnref4">[4]</a></sup><sup class="footnote-ref"><a href="#fn5" id="fnref5">[5]</a></sup></p>
<p>We support inline notes too (pandoc example):</p>
<p>Here is an inline note.<sup class="footnote-ref"><a href="#fn6" id="fnref6">[6]</a></sup></p>
<p>foo<sup class="footnote-ref"><a href="#fn7" id="fnref7">[7]</a></sup></p>
<p><sup class="footnote-ref"><a href="#fn8" id="fnref8">[8]</a></sup> <sup class="footnote-ref"><a href="#fn8" id="fnref8:1">[8:1]</a></sup></p>
<p><sup class="footnote-ref"><a href="#fn8" id="fnref8:2">[8:2]</a></sup> <sup class="footnote-ref"><a href="#fn9" id="fnref9">[9]</a></sup></p>
<p>Should allow <abbr title="[object Object]">links</abbr> in inline footnotes
.
Example<sup class="footnote-ref"><a href="#fn10" id="fnref10">[10]</a></sup></p>
<p>Should allow additional text in numeric footnote reference
.
Here is a footnote<sup class="footnote-ref"><a href="#fn11" id="fnref11">[11]</a></sup> reference with <a href="#fn12" id="fnref12">added text<sup class="footnote-ref">[12]</sup></a>.</p>
<p>Here<sup class="footnote-ref"><a href="#fn13" id="fnref13">[13]</a></sup> is a footnote <a href="#fn14" id="fnref14">reference<sup class="footnote-ref">[14]</sup></a> with <a href="#fn15" id="fnref15">added text<sup class="footnote-ref">[15]</sup></a>.</p>
<hr class="footnotes-sep">
<section class="footnotes">
<ol class="footnotes-list">
<li tabindex="-1" id="fn1" class="footnote-item"><p>Here is the footnote. <a href="#fnref1" class="footnote-backref">↩︎</a></p>
</li>
<li tabindex="-1" id="fn2" class="footnote-item"><p>Here’s one with multiple blocks.</p>
<p>Subsequent paragraphs are indented to show that they
belong to the previous footnote.</p>
<pre><code>{ some.code }
</code></pre>
<p>The whole paragraph can be indented, or just the first
line.  In this way, multi-paragraph footnotes work like
multi-paragraph list items. <a href="#fnref2" class="footnote-backref">↩︎</a> <a href="#fnref2:1" class="footnote-backref">↩︎</a> <a href="#fnref2:2" class="footnote-backref">↩︎</a></p>
</li>
<li tabindex="-1" id="fn3" class="footnote-item"><p>foo <a href="#fnref3" class="footnote-backref">↩︎</a> <a href="#fnref3:1" class="footnote-backref">↩︎</a> <a href="#fnref3:2" class="footnote-backref">↩︎</a></p>
</li>
<li tabindex="-1" id="fn4" class="footnote-item"><p>bar <a href="#fnref4" class="footnote-backref">↩︎</a></p>
</li>
<li tabindex="-1" id="fn5" class="footnote-item"><p>baz <a href="#fnref5" class="footnote-backref">↩︎</a></p>
</li>
<li tabindex="-1" id="fn6" class="footnote-item"><p>Inlines notes are easier to write, since
you don’t have to pick an identifier and move down to type the
note. <a href="#fnref6" class="footnote-backref">↩︎</a></p>
</li>
<li tabindex="-1" id="fn7" class="footnote-item"><p> <em>bar</em>  <a href="#fnref7" class="footnote-backref">↩︎</a></p>
</li>
<li tabindex="-1" id="fn8" class="footnote-item"><h2><a id="foo"></a><a class="header-anchor" href="#foo">
        <svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true">
          <path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path>
        </svg></a> foo</h2>
 <a href="#fnref8" class="footnote-backref">↩︎</a> <a href="#fnref8:1" class="footnote-backref">↩︎</a> <a href="#fnref8:2" class="footnote-backref">↩︎</a></li>
<li tabindex="-1" id="fn9" class="footnote-item"><p>foo <a href="#fnref9" class="footnote-backref">↩︎</a></p>
</li>
<li tabindex="-1" id="fn10" class="footnote-item"><p>this is another example <a href="https://github.com">https://github.com</a> <a href="#fnref10" class="footnote-backref">↩︎</a></p>
</li>
<li tabindex="-1" id="fn11" class="footnote-item"><p>Here is a footnote. <a href="#fnref11" class="footnote-backref">↩︎</a></p>
</li>
<li tabindex="-1" id="fn12" class="footnote-item"><p>Here is another footnote. <a href="#fnref12" class="footnote-backref">↩︎</a></p>
</li>
<li tabindex="-1" id="fn13" class="footnote-item"><p>Here is the first footnote. <a href="#fnref13" class="footnote-backref">↩︎</a></p>
</li>
<li tabindex="-1" id="fn14" class="footnote-item"><p>Here is the second footnote. <a href="#fnref14" class="footnote-backref">↩︎</a></p>
</li>
<li tabindex="-1" id="fn15" class="footnote-item"><p>Here is the third footnote. <a href="#fnref15" class="footnote-backref">↩︎</a></p>
</li>
<li tabindex="-1" id="fn16" class="footnote-item"><p>it works! <a href="#fnref16" class="footnote-backref">↩︎</a></p>
</li>
</ol>
</section>
<p>Here is a footnote reference,<sup class="footnote-ref"><a href="#fn3" id="fnref3:1">[3:1]</a></sup> and another,<sup class="footnote-ref"><a href="#fn2" id="fnref2:1">[2:1]</a></sup> and an inline footnote <sup class="footnote-ref"><a href="#fn16" id="fnref16">[16]</a></sup>.</p>
<p>And then there are duplicate references to those footnotes here<sup class="footnote-ref"><a href="#fn3" id="fnref3:2">[3:2]</a></sup><sup class="footnote-ref"><a href="#fn2" id="fnref2:2">[2:2]</a></sup>.</p>
<hr>
<p>critic markup           HTML                                    LaTeX</p>
<p [text]=""><del>[text]</del>            <del>[text]</del>                       \st{[text]}
<ins>[text]</ins>            <ins>[text]</ins>                       \underline{[text]}
<del>[text1]</del><ins>[text2]</ins>  <del>[text1]</del><ins>[text2]</ins>    \st{[text1]}\underline{[text2]}
<mark>[text]</mark>            <mark>[text]</mark>                     \hl{[text]}
</p><aside>[text]</aside>            <aside>[text]</aside>                   \marginpar<p></p>
<p>An editor can delete text as he <del>bloody well</del> pleases.</p>
<p>An editor can also insert text, <ins>as this is his prerogative</ins> and duty when the writer dropped the, ah, word.</p>
<p>As you know <del>theres</del><ins>there's</ins> always that fuss about their and <del> their </del><ins> there </ins>…</p>
<p>Among all the bla bla there’s a golden nugget to be found, <mark>if only you'ld go looking</mark>.</p>
<p>JS HTTP is a collection of low-level javascript HTTP-related modules. </p><aside>It's awesome!</aside><p></p>
<hr>
<p>Basic alerts example:</p>
<div class="alert alert-warning" role="alert">
<p>Hello world! <a href="#" class="alert-link">Link</a>.</p>
</div>
<p>With option <code>links</code> enabled (by default):</p>
<p>This is a test. <a href="#">Link</a>.</p>
<div class="alert alert-success" role="alert">
<p>Hello world! <a href="#" class="alert-link">Link</a>.</p>
</div>
<p>This is a test. <a href="#">Link</a>.</p>
<p>With option <code>icons</code> enabled (not default):</p>
<p>This is a test. <a href="#">Link</a>.</p>
<div class="alert alert-warning" role="alert">
<p>Uh-oh! <a href="#" class="alert-link">Link</a>.</p>
</div>
<p>This is a test. <a href="#">Link</a>.</p>
<hr>
<p>emojis</p>
<p>1️⃣ aaa :fifty:</p>
<p>shortcuts</p>
<p>:50 |50 :uno aaa</p>
<p>skip rewritten defaults</p>
<p>😄 😃</p>
<p><a href="http://www.example.org/wiki/Special:Preferences">http://www.example.org/wiki/Special:Preferences</a> 😛</p>
<p><a href="http://www.example.org/foo:joy:bar">http://www.example.org/foo:joy:bar</a> 😂</p>
<p><a href="http://www.example.org/foo:joy:">bar</a></p>
<p><a href="http://www.example.org/wiki/Special:Preferences">http://www.example.org/wiki/Special:Preferences</a> 😛</p>
<p><a href="http://www.example.org/foo:joy:bar">http://www.example.org/foo:joy:bar</a> 😂</p>
<hr>
<p class="someclass" id="someid" attr="allowed">text</p>
<p link="/some/page/in/app/id=1">should parse attributes with = ‘{attr=/id=1}’, options</p>
<p with="attrs">some text</p>
<p>some text {{with=attrs}}</p>
<p with="attrs">some text</p>
<p class="green">some text</p>
<p css-module="green">some text</p>
<p id="section2">some text</p>
<p attr="lorem" class="class" css-module="css-module" id="id">some text</p>
<p attr="lorem ipsum">some text</p>
<p class="c1 c2">some text</p>
<p css-module="c1 c2">some text</p>
<p css-module="c1.c2">some text</p>
<p>paragraph <strong class="red">bold</strong> asdf</p>
<p>paragraph <strong>bold</strong>{{.red}} asdf</p>
<ul>
<li class="red">item 1</li>
<li>item 2</li>
</ul>
<p class="someclass" id="someid" attr="allowed">text</p>
<hr>
<h1><a id="This_particular_issue_is_For_Developers_Only"></a><a class="header-anchor" href="#This-particular-issue-is-For-Developers-Only">
        <svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true">
          <path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path>
        </svg></a> This particular issue is <em>For Developers Only</em></h1>
<hr>
<p><strong>Please file a fresh, new issue if you see something you want to request as a feature or report a bug on or simply talk about.</strong></p>
<p><strong>Copy&amp;paste the bit of text that’s relevant, if you want.</strong></p>
<hr>
<p>The notorious “<em>Mother Of All PRs</em>” for Qiqqa. (Folks who’ve worked with me before, will know the feeling. 😉🤯 )</p>
<h2><a id="Why"></a><a class="header-anchor" href="#Why">
        <svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true">
          <path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path>
        </svg></a> Why?</h2>
<p>Because I don’t want to swamp the issue tracker with the stuff I note, think about, or otherwise need to remind myself about at some later point in time, where my brain <em>very probably</em> has already given up attempting to track and manage.</p>
<p>a.k.a. “<em>Notes To Self</em>”</p>
<blockquote>
<p>I’ve been pondering dropping this stuff in the <a href="https://github.com/jimmejardine/qiqqa-open-source/projects">kanban projects</a> but that hasn’t worked out before, because this is about a <strong>lot of details</strong> that <em>do matter</em>, but are <em>clutter</em> for everyone trying to get a handle on the overall state of affairs (like <em>me</em>), so after a long time considering and trying other means, failures all, the current idea is to bundle all these devils in a single issue, with perhaps some check boxes, and then using the github EDIT feature, rather than COMMENTing each time: once an item in this list is done, it can be DELETED as far as I’m concerned. The git commit log serves well for keeping track of what happened and what was done; it’s the ‘gotta do / check this’ buggers that need a place to go and I want to keep it all in a single website, i.e. <em>github</em>.</p>
</blockquote>
<h1><a id="Observed_Crappiness"></a><a class="header-anchor" href="#Observed-Crappiness">
        <svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true">
          <path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path>
        </svg></a> Observed Crappiness?</h1>
<ul>
<li><input type="checkbox" id="checkbox0"><label for="checkbox0">BibTeX editor. OMG. 🤯 I know it’s hacky (hey, </label><em>I</em> did that back in '19, <strong>I know</strong>), but the parser is… 😒 and the (re)formatter… and the editor modes are 🤡  – find time and effort to do a proper editor one day, please. Doesn’t need to be smart, just <strong>flexible</strong>. <strong>Tolerant</strong>, say.</li>
<li><input type="checkbox" id="checkbox1" checked="true"><label for="checkbox1">~antique </label><code>pdfdraw.exe</code> still locks up on some particular ‘evil PDFs’~ → filed as #305 for it happens almost every day now with my test repo 😩 😭</li>
<li><input type="checkbox" id="checkbox2"><label for="checkbox2">ditto for SynFusion-based annotation, etc. metadata extraction logic: here we end up with a run-away memory consumption problem in .NET, resulting in out-of-memory a little later on.</label>
→ work is done in MuPDF repo (<code>mutool multipurp</code>): <code>multipurp</code> tool is created to extract a metric ton of PDF metadata, including outlines, annotations and attachments and dump all that to JSON, so we can easily go through this stuff picking up what we want/need at that particular mo.</li>
<li>BibTeX parsing:
<ul>
<li><input type="checkbox" id="checkbox3"><label for="checkbox3">check the Unicode translation code: it works </label><strong>but a little too well</strong>, as <code>\LaTeX</code> and <code>\kern</code> TeX macros at least get their leading chars converted to Unicode, and that’s plain <em>wrong</em>.</li>
<li><input type="checkbox" id="checkbox4"><label for="checkbox4">Go through the test set and vet the results in the sollwert files: there’s very probably a couple of issues lurking in there still.</label></li>
<li><input type="checkbox" id="checkbox5"><label for="checkbox5">BibTeX (re)formatting? Yech, TABs! 🤢</label></li>
<li><input type="checkbox" id="checkbox6"><label for="checkbox6">Qiqqa Search: search for </label><code>fingerprint:HASH</code> (e.g. <code>fingerprint:20359B18C8D6AC93F836962526FDC306118486C</code>) doesn’t work. <em>Would</em> be handy debug/diag tool, while help screen says fingerprint is recognized as a field. Well… (Also does not work in global search. Obviously.)</li>
</ul>
</li>
</ul>
<h1><a id="Crazy_Ideas_To_Try"></a><a class="header-anchor" href="#Crazy-Ideas-To-Try">
        <svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true">
          <path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path>
        </svg></a> <em>Crazy Ideas</em> To Try?</h1>
<ul>
<li><input type="checkbox" id="checkbox7"><label for="checkbox7"></label><a href="https://github.com/unvell/ReoGrid">ReoGrid</a> spreadsheet bulk editing of metadata
<ul>
<li><input type="checkbox" id="checkbox8"><label for="checkbox8">free export to Excel that way?</label></li>
<li><input type="checkbox" id="checkbox9"><label for="checkbox9">how about letting user edit it in another tool, then re-import the spreadsheet and bulk-update the metadata that way?</label></li>
</ul>
</li>
<li><input type="checkbox" id="checkbox10"><label for="checkbox10">I </label><em>loath</em> WPF (OK, <em>we already knew that</em>, tell me something <em>new</em>, will ya?); ditch the crappy table in the Sync Manager dialog and replace it with a <a href="https://github.com/unvell/ReoGrid">ReoGrid</a> instance, i.e. make it act like a spreadsheet too. <a href="https://github.com/unvell/ReoGrid">ReoGrid</a> says they can do <strong>readonly</strong> on cells. Yay! 🥳</li>
<li><input type="checkbox" id="checkbox11"><label for="checkbox11">use a Nuke-like node editor interface for the OCR process. Find a way to have it communicate with mupdf+leptonica+tesseract.</label>
<ul>
<li>🚫  As different PDFs require different processing, should we store the graph per PDF?</li>
<li><input type="checkbox" id="checkbox12"><label for="checkbox12">Better to link PDFs to a “OCR template” of some kind: that way we get the user automatically keep them “grouped” that way.</label></li>
<li><input type="checkbox" id="checkbox13"><label for="checkbox13">Ditto for text extraction!</label>
<ul>
<li><strong>Remember your own bloody OnSemi (ex-Fairchild) datasheets with obnoxious cover sheets!</strong></li>
<li>Remember those Taiwanese Uni PDF papers you have, which have their own flavour of more-or-less useful cover sheets to strip off / <em>reduce</em>.</li>
<li>Oh! Oh! The cover sheets of that scientific PDF aggregation site you got them from. Suppressed the name, but you know which one I mean! Almost white sheet, images of the authors and a bit of crap. Making it hard to recognize the papers as duplicates when you get them from elsewhere.</li>
</ul>
</li>
</ul>
</li>
<li><input type="checkbox" id="checkbox14"><label for="checkbox14">Check NodeJS interaction speed: JSON chat + background ‘webserver’?</label></li>
<li><input type="checkbox" id="checkbox15"><label for="checkbox15">Big Binary Chunks coming from background processes (node, </label><a href="https://github.com/ArtifexSoftware/mupdf">mupdf</a>, tesseract, <a href="https://lucene.apache.org/solr/">solr</a>, whatever): Named pipes for bigger loads or is that overkill and do we push everything through a socket anyway? (copy bin blocks vs memory mapped I/O for large data chunks)
<ul>
<li><input type="checkbox" id="checkbox16" checked="true"><label for="checkbox16">Given what I read about it from others, plus personal experience in the past, </label><code>mmap()</code> is superb, but for this cross-platform stuff we’ld better stick to named pipes or localhost TCP loopback: the latter being the most generic while pipes would be great, but at least <em>named</em> pipes on Windows are <strong>visible outside the machine</strong>, thus posing a <strong>security risk</strong> when I don’t do something smart about it: <a href="https://docs.microsoft.com/en-us/windows/win32/ipc/named-pipes">https://docs.microsoft.com/en-us/windows/win32/ipc/named-pipes</a> (see the bit there about <code>NT AUTHORITY\NETWORK</code>.</li>
</ul>
<ul>
<li><input type="checkbox" id="checkbox17"><label for="checkbox17">memory mapped I/O only works really well when you know the required block size up front, so an alternative might be sending handles to memory mapped areas to share among processes, instead of copying data like mad through pipe or TCP/IP (short-circuited) IPC. Still, that’s more work to code and ensure it’s </label><em>robust</em>, so I guess we’ll stick with the pipes and local-loopback TCP IPC instead as that’s standard fare and also maps very well onto the idea of running the important stuff in server apps on the local box (civetweb, solr, …)</li>
<li><input type="checkbox" id="checkbox18" checked="true"><label for="checkbox18">currently C# code shuffles and copies the image data multiple times at a horrible performance pace: C# isn’t exactly beautiful for image processing (or rather: I’m not versed well enough in the language+libs to make this crap run fast, more probably.</label>
<ul>
<li><input type="checkbox" id="checkbox19"><label for="checkbox19">“next stage” would therefor be </label><em>either</em> checking out the ways pros do image processing in C#, <em>or</em> we move that crap to a C++/C process and deal with the binary blobs traveling across the barrier every time. 😢 💢</li>
</ul>
</li>
</ul>
</li>
<li><input type="checkbox" id="checkbox20"><label for="checkbox20"></label><a href="https://github.com/tesseract-ocr/tesseract/issues/2961">tesseract</a> is <a href="https://github.com/ArtifexSoftware/mupdf/search?q=tesseract&amp;type=commits"><strong>integrated with mupdf by Artifex</strong></a> 👍 👍 👍 🥳  – now open that bugger up and permit scriptable/configurable image processing <strong>inside</strong> <a href="https://github.com/GerHobbelt/mupdf">mupdf-as-you-have-it</a>, so we can optimize OCR. Drive this with the <a href="https://www.foundry.com/products/nuke/features#link112">Nuke</a>-style node editor mentioned above.
<ul>
<li>I mention Nuke, because that’s what my brain comes up with for this Rorschach Blot, but it’s more like Autodesk 3dsmax’s Material Editor and their ilk: intermediate or fundamental as visual thumbnail in each node to help track where happens what:
<ul>
<li><a href="https://unity3d.com/profiles/unity3d/themes/unity/images/pages/shader-graph/ShaderGraphHologram.jpg">https://unity3d.com/profiles/unity3d/themes/unity/images/pages/shader-graph/ShaderGraphHologram.jpg</a></li>
<li><a href="https://cdn.soft8soft.com/images/materials_maps_max.jpg">https://cdn.soft8soft.com/images/materials_maps_max.jpg</a></li>
</ul>
</li>
<li><input type="checkbox" id="checkbox21"><label for="checkbox21"> consider adding </label><a href="https://docs.opencv.org/master/d7/dbd/group__imgproc.html">OpenCV lib</a> to the mupdf tool, next to <a href="http://leptonica.org/">leptonica</a> (which is already the <em>default</em> part of the pdf-to-tesseract path in there), so we have additional image filters / processing for the OCR workflow. → prepwork for facilitating pre- and postprocessing of PDF image and text data: <a href="https://github.com/GerHobbelt/owemdjee">https://github.com/GerHobbelt/owemdjee</a></li>
</ul>
</li>
<li><input type="checkbox" id="checkbox22"><label for="checkbox22">add a ‘webserver’ mode to mupdf (</label><strong>mutool + mudraw</strong>: both for metadata extraction, text extraction, OCR processing (and consequent text extraction) and PDF page to image rendering) so we don’t have the (costly?!) tool startup time for every page or bit of (meta)data we’re requesting.
<ul>
<li>
<p><input type="checkbox" id="checkbox23"><label for="checkbox23">be prepared to kill the bugger or expect the bastard to lock up or crash due to </label><strong>nasty PDF inputs</strong> once every couple of documents: feed the entire evil library through it, and then everything else you can grab off the Net.</p>
<p><strong>Reminder</strong>: the SynFusion libs b0rked out with a HUGE memory leakage just today, and that was only because Qiqqa was doing a bit of <em>annotations</em> extraction via that one today. We got rid of SORAX, but SynFusion is on its way out too. 💢</p>
<p><input type="checkbox" id="checkbox24" checked="true"><label for="checkbox24">→ </label><code>mutool multipurp</code> is a new tool in the mupdf palette, derived off <code>mutool info</code> and the <code>mupdf</code> gui app. <code>multipurp</code> dumps all available metadata for the PDF in JSON format. This includes attachments, annotations, etc.</p>
</li>
<li>
<p><input type="checkbox" id="checkbox25"><label for="checkbox25">see if I should revive </label><a href="https://github.com/GerHobbelt/mongoose-vanilla">my old mongoose clone</a> for this, or grab another <em>light</em>, <strong>embeddable</strong> C/C++ web server that can do JSON and a whole lot more.</p>
<ul>
<li><input type="checkbox" id="checkbox26"><label for="checkbox26">what’s it called now? Or was it the original with MIT license that got renamed? Don’t recall precisely. There was a license change back then with some brouhaha, but since Qiqqa and mupdf are (A)GPL, it doesn’t matter no more, right?!</label></li>
<li><input type="checkbox" id="checkbox27"><label for="checkbox27">I’m not looking at nginx and its ilk: way to much overkill and I’ve working with them before: I want an </label><strong>embeddable</strong> webserver, which can run on <code>localhost</code> for as long as Qiqqa is <em>alive</em>: started and stopped by Qiqqa, preferably.</li>
</ul>
</li>
</ul>
</li>
<li><input type="checkbox" id="checkbox28"><label for="checkbox28">Analyze Qiqqa PDF page render behaviour (we’re doing that now) and see what we can do to improve performance there by caching some sort of LIFO / timestamped cache, where we can </label><em>age off</em> old slots. No more 3 images per PDF static crap.</li>
<li><input type="checkbox" id="checkbox29"><label for="checkbox29"></label><strong>Please</strong> wrack your brain for a <strong>smart solution</strong> for the many ‘get it as we need them’ situations in the code, where we SafeThreadPool the work, but <strong>should</strong> ideally should:
<ul>
<li><input type="checkbox" id="checkbox30"><label for="checkbox30">respond with a </label><strong>fake answer</strong> immediately, so the UI gets rendered pronto. (Think the grey boxes on page load you see happenin’ with modern websites, which perform async content loading)</li>
<li><input type="checkbox" id="checkbox31"><label for="checkbox31">don’t care about effin’ WPF INotifyWhatWasIt crap and code bloat, “required” for UI updating. Come up with something leaner and preferably faster / as fast once the ‘async’ data finally arrives.</label></li>
<li><input type="checkbox" id="checkbox32"><label for="checkbox32"></label><strong>extra bonus points</strong> when you go through the code and make sure the final result is checked against the current state of affairs in the UI to ensure the data is not already outdated, because the user has moved on and another panel or PDF is currently in view, while the work is about a PDF that’s already closed again.</li>
<li><input type="checkbox" id="checkbox33"><label for="checkbox33"></label><strong>extra extra bonus points</strong> if you can come up with a solid schema where all this work is <em>abortable</em> without a lot of hassle. It happens in a zillion places and I’ld rather not clutter the whole codebase with <a href="https://docs.microsoft.com/en-us/dotnet/standard/threading/cancellation-in-managed-threads">CancellationTokens processing</a>, if I can get away with something leaner, preferably <strong>much</strong> leaner.</li>
</ul>
</li>
<li><input type="checkbox" id="checkbox34"><label for="checkbox34">rework the async stuff to modern C#</label>
<ul>
<li><a href="https://docs.microsoft.com/en-us/dotnet/standard/threading/managed-threading-best-practices">https://docs.microsoft.com/en-us/dotnet/standard/threading/managed-threading-best-practices</a></li>
<li><a href="https://docs.microsoft.com/en-us/dotnet/standard/asynchronous-programming-patterns/event-based-asynchronous-pattern-overview">https://docs.microsoft.com/en-us/dotnet/standard/asynchronous-programming-patterns/event-based-asynchronous-pattern-overview</a></li>
<li><a href="https://docs.microsoft.com/en-us/dotnet/standard/threading/overview-of-synchronization-primitives">https://docs.microsoft.com/en-us/dotnet/standard/threading/overview-of-synchronization-primitives</a></li>
<li><a href="https://docs.microsoft.com/en-us/dotnet/standard/threading/synchronizing-data-for-multithreading">https://docs.microsoft.com/en-us/dotnet/standard/threading/synchronizing-data-for-multithreading</a></li>
<li><a href="https://docs.microsoft.com/en-us/dotnet/standard/threading/synchronizing-data-for-multithreading">https://docs.microsoft.com/en-us/dotnet/standard/threading/synchronizing-data-for-multithreading</a></li>
<li><a href="https://olitee.com/2015/01/c-async-await-common-deadlock-scenario/">https://olitee.com/2015/01/c-async-await-common-deadlock-scenario/</a></li>
<li><a href="https://medium.com/devtechblogs/overview-of-c-async-programming-with-thread-pools-and-task-parallel-library-7b18c9fc192d#62e6">https://medium.com/devtechblogs/overview-of-c-async-programming-with-thread-pools-and-task-parallel-library-7b18c9fc192d#62e6</a></li>
<li><a href="https://devblogs.microsoft.com/dotnet/understanding-the-whys-whats-and-whens-of-valuetask/">https://devblogs.microsoft.com/dotnet/understanding-the-whys-whats-and-whens-of-valuetask/</a></li>
<li><a href="https://stackoverflow.com/questions/9602567/how-to-update-ui-from-another-thread-running-in-another-class#answer-9620011">https://stackoverflow.com/questions/9602567/how-to-update-ui-from-another-thread-running-in-another-class#answer-9620011</a></li>
</ul>
</li>
<li>BibTeX parsing:
<ul>
<li><input type="checkbox" id="checkbox35"><label for="checkbox35">run it through the Zotero test set</label></li>
<li><input type="checkbox" id="checkbox36"><label for="checkbox36">Make that bugger an external lib or use the Zotero scripts via NodeJS, maybe?</label></li>
<li><input type="checkbox" id="checkbox37"><label for="checkbox37">Idea: any BibTeX or whole DB metadata records (JSON) which do not parse should NOT BE LOST: dump these in a special field called ‘b0rked’ or something, so we can add a UI or tooling process to post-process those. Particularly important when processing damaged or VERY old Qiqqa libraries, where some stuff seems to go wrong, but we cannot find out what exactly goes haywire.</label></li>
</ul>
</li>
<li>NodeJS / async JavaScript
<ul>
<li><input type="checkbox" id="checkbox38" checked="true"><label for="checkbox38">Ran into this today, keep in mind when moving to electron or doing other JS-based async work:</label>
<ul>
<li><code>process.exit()</code> will immediately terminate any pending promises!</li>
<li><a href="https://github.com/nodejs/node/issues/22088">https://github.com/nodejs/node/issues/22088</a> (read the entire thread!)</li>
<li><a href="https://stackoverflow.com/questions/46966890/what-happens-when-a-promise-never-resolves">https://stackoverflow.com/questions/46966890/what-happens-when-a-promise-never-resolves</a></li>
<li><a href="https://github.com/nodejs/node/issues/29355#issuecomment-525935873">https://github.com/nodejs/node/issues/29355#issuecomment-525935873</a></li>
</ul>
</li>
</ul>
</li>
<li>Tesseract &amp; image binarization/threshold/object detection/…:
<ul>
<li>Tesseract OCR: Text localization and detection - PyImageSearch
<ul>
<li><a href="https://www.pyimagesearch.com/2020/05/25/tesseract-ocr-text-localization-and-detection/">https://www.pyimagesearch.com/2020/05/25/tesseract-ocr-text-localization-and-detection/</a></li>
</ul>
</li>
<li>pedrofrodenas/image-thresholding-OCR: Local adaptive image binarization algorithm to improve Tesseract OCR accuracy.
<ul>
<li><a href="https://github.com/pedrofrodenas/image-thresholding-OCR">https://github.com/pedrofrodenas/image-thresholding-OCR</a></li>
</ul>
</li>
<li>palucdev/CudaOtsu: Otsu’s method thresholding and image binarization on GPU in CUDA
<ul>
<li><a href="https://github.com/palucdev/CudaOtsu">https://github.com/palucdev/CudaOtsu</a></li>
</ul>
</li>
<li>OpenCV: Image Thresholding
<ul>
<li><a href="https://docs.opencv.org/master/d7/d4d/tutorial_py_thresholding.html">https://docs.opencv.org/master/d7/d4d/tutorial_py_thresholding.html</a></li>
</ul>
</li>
<li>DIGI-VUB/image.binarization: Image Binarization for improving OCR and HTR
<ul>
<li><a href="https://github.com/DIGI-VUB/image.binarization">https://github.com/DIGI-VUB/image.binarization</a></li>
</ul>
</li>
<li>brandonmpetty/Doxa: A Local Adaptive Thresholding framework for image binarization written in C++, with JS and Python bindings. Implementing: Otsu, Bernsen, Niblack, Sauvola, Wolf, Gatos, NICK, Su, T.R. Singh, WAN, ISauvola, Bataineh, Chan and Shafait.
<ul>
<li><a href="https://github.com/brandonmpetty/Doxa">https://github.com/brandonmpetty/Doxa</a></li>
</ul>
</li>
<li>glefundes/Multimethod-Binarization: Efficient implementation of local thresholding image binarization in python for use in multimethod binarization OCR
<ul>
<li><a href="https://github.com/glefundes/Multimethod-Binarization">https://github.com/glefundes/Multimethod-Binarization</a></li>
</ul>
</li>
<li>Tesseract thresholding eliminates text on bright background colors · Issue #1990 · tesseract-ocr/tesseract
<ul>
<li><a href="https://github.com/tesseract-ocr/tesseract/issues/1990">https://github.com/tesseract-ocr/tesseract/issues/1990</a></li>
</ul>
</li>
<li>Proper image thresholding to prepare it for OCR in python using opencv - Stack Overflow
<ul>
<li><a href="https://stackoverflow.com/questions/52459794/proper-image-thresholding-to-prepare-it-for-ocr-in-python-using-opencv">https://stackoverflow.com/questions/52459794/proper-image-thresholding-to-prepare-it-for-ocr-in-python-using-opencv</a></li>
</ul>
</li>
<li>image processing - Multi otsu(multi-thresholding) with openCV - Stack Overflow
<ul>
<li><a href="https://stackoverflow.com/questions/22706742/multi-otsumulti-thresholding-with-opencv">https://stackoverflow.com/questions/22706742/multi-otsumulti-thresholding-with-opencv</a></li>
</ul>
</li>
<li>Image Thresholding — OpenCV-Python Tutorials 1 documentation
<ul>
<li><a href="https://opencv-python-tutroals.readthedocs.io/en/latest/py_tutorials/py_imgproc/py_thresholding/py_thresholding.html">https://opencv-python-tutroals.readthedocs.io/en/latest/py_tutorials/py_imgproc/py_thresholding/py_thresholding.html</a></li>
</ul>
</li>
<li>OCR · GitBook
<ul>
<li><a href="https://www.pekatvision.com/doc/last/ocr.html">https://www.pekatvision.com/doc/last/ocr.html</a></li>
</ul>
</li>
<li>Optical Character Recognition Pipeline: Text Detection and Segmentation Part-II | TheAILearner
<ul>
<li><a href="https://theailearner.com/2019/05/29/optical-character-recognition-pipeline-text-detection-and-segmentation-part-ii/">https://theailearner.com/2019/05/29/optical-character-recognition-pipeline-text-detection-and-segmentation-part-ii/</a></li>
</ul>
</li>
<li>Automating Receipt Digitization with OCR and Deep Learning
<ul>
<li><a href="https://nanonets.com/blog/receipt-ocr/">https://nanonets.com/blog/receipt-ocr/</a></li>
</ul>
</li>
<li>ocr pipeline | TheAILearner
<ul>
<li><a href="https://theailearner.com/tag/ocr-pipeline/">https://theailearner.com/tag/ocr-pipeline/</a></li>
</ul>
</li>
<li>Optical Character Recognition Pipeline: Text Detection and Segmentation Part-II | TheAILearner
<ul>
<li><a href="https://theailearner.com/2019/05/29/optical-character-recognition-pipeline-text-detection-and-segmentation-part-ii/">https://theailearner.com/2019/05/29/optical-character-recognition-pipeline-text-detection-and-segmentation-part-ii/</a></li>
</ul>
</li>
<li>A comprehensive guide to OCR with Tesseract, OpenCV and Python | by Suresh Thiyagaraj | NanoNets | Dec, 2020 | Medium
<ul>
<li><a href="https://medium.com/nanonets/a-comprehensive-guide-to-ocr-with-tesseract-opencv-and-python-fd42f69e8ca8">https://medium.com/nanonets/a-comprehensive-guide-to-ocr-with-tesseract-opencv-and-python-fd42f69e8ca8</a></li>
</ul>
</li>
</ul>
</li>
<li><input type="checkbox" id="checkbox39" checked="true"><label for="checkbox39">my old work on nearly 10 year old mongoose (a.k.a. civetweb) has been revived and still works, including the ‘book sample server app’ with drag&amp;drop GUI.</label>
<ul>
<li><input type="checkbox" id="checkbox40"><label for="checkbox40">Had forgotten civetweb came with embedded Lua for scripting. Soit.</label></li>
<li><input type="checkbox" id="checkbox41"><label for="checkbox41">Can serve me well as test server around mupdf &amp; friends.</label></li>
</ul>
</li>
<li><input type="checkbox" id="checkbox42"><label for="checkbox42">Do a web page for the releases as there’ll be several flavours all the time (production, beta, raw test)</label></li>
<li><input type="checkbox" id="checkbox43"><label for="checkbox43">Serialization:</label>
<ul>
<li>
<p>to disk (<em>persistence</em>)</p>
<ul>
<li><input type="checkbox" id="checkbox44"><label for="checkbox44">JSON: UTF8Json for speed? Or regular JSON?</label></li>
</ul>
</li>
<li>
<p>to database (<em>persistence</em> in database records)</p>
<ul>
<li><input type="checkbox" id="checkbox45"><label for="checkbox45">JSON: UTF8Json for speed? Or regular JSON?</label>
Keep in mind that we’re considering NOT having everything in memory, i.e. <strong>query database on demand</strong>! This would benefit from faster data I/O. Nevertheless, for diagnostic purposes, it might be best to stay with a human-readable format such as JSON. Otherwise, see below for binary protocols (FlatBuffers, etc.)</li>
</ul>
</li>
<li>
<p>between <em>processes</em> (NOT PERSISTED.)</p>
<p>This concerns processes where we have reasonable/full control of both ends: PDF processor, frontend (+ business logic layer? or do we have that one separate? If we use Chromely or <code>electron</code>, you’re transferring data as message between backend layer (C#/node) and browser/UI frontend anyway, so <em>there</em> is another interface comms layer, however you turn it)</p>
<p>Processes where we DO NOT have full control (or don’t want to patch one side to <em>gain control</em>) will generally speak JSON (or XML?): SOLR//ES</p>
<ul>
<li><input type="checkbox" id="checkbox46"><label for="checkbox46"></label><a href="http://google.github.io/flatbuffers/index.html#flatbuffers_overview">Google FlatBuffers</a> (<a href="https://github.com/dvidelabs/flatcc">flatcc</a> for C)</li>
<li><input type="checkbox" id="checkbox47"><label for="checkbox47"></label><sub>msgpack</sub> (nah…)</li>
<li><input type="checkbox" id="checkbox48"><label for="checkbox48"></label><a href="https://github.com/chronoxor/FastBinaryEncoding">FBE</a> (as a faster flavor/deriv of Flatbuffers)</li>
<li><input type="checkbox" id="checkbox49"><label for="checkbox49"></label><a href="https://github.com/rikimaru0345/Ceras">Ceras</a> (just to keep in mind for slightly different purposes… Not really a candidate here.)</li>
<li><input type="checkbox" id="checkbox50"><label for="checkbox50"></label><a href="https://github.com/RainwayApp/bebop">Bebop</a> - while I’m an old fan of <a href="https://en.wikipedia.org/wiki/Cowboy_Bebop">Cowboy Bebop</a> too 😆 this one’s currently lacking a C/C++ target. If that can be tweaked from the JS target, this might be the coolest one yet, though certainly not as <em>mainstream</em> as Flatbuffers. Has C# and JS/TS targets, so that’s covering the other 66% for me.</li>
</ul>
<p>Just some stuff about FlatBuffers:</p>
<ul>
<li><a href="https://engineering.fb.com/2015/07/31/android/improving-facebook-s-performance-on-android-with-flatbuffers/">https://engineering.fb.com/2015/07/31/android/improving-facebook-s-performance-on-android-with-flatbuffers/</a></li>
</ul>
</li>
</ul>
</li>
<li><input type="checkbox" id="checkbox51"><label for="checkbox51"></label><code>electron</code> or <code>NW.js</code> (here’s some reasons why I would ride that one rather than electron for something like Qiqqa – shoot! browser crash &amp; <abbr title="[object Object]">links</abbr> lost! 😭 Anyway, older: <a href="http://my2iu.blogspot.com/2017/06/nwjs-vs-electron.html">http://my2iu.blogspot.com/2017/06/nwjs-vs-electron.html</a> and google stats: <a href="https://trends.google.com/trends/explore?q=nwjs,Electron%20js,Chromely,nw.js">https://trends.google.com/trends/explore?q=nwjs,Electron js,Chromely,nw.js</a>) or <code>Chromely</code>?
<ul>
<li><input type="checkbox" id="checkbox52"><label for="checkbox52">electron (so </label><em>mainstream</em>. And yet… Why haven’t I switched already? → Because somewhere inside my brain something is going <em>NO</em>, but I’m not entirely sure why. Except probably the reflection on Brook’s Second System Syndrome that this would evoke at max power setting, perrr-haps? 🤡</li>
<li><input type="checkbox" id="checkbox53"><label for="checkbox53">NW.js (better integration of UI frontend into backend layer, where a thin layer of Qiqqa business logic would reside. Promised faster UI updates that way as it takes out one hefty comms interface.</label></li>
<li><input type="checkbox" id="checkbox54"><label for="checkbox54">Chromely (no </label><code>nodejs</code>, backend layer is C#. Which is fine and might help me moving as the overall “business glue” logic wouldn’t need to be rewritten from scratch. That might save a bundle.</li>
</ul>
</li>
<li><input type="checkbox" id="checkbox55"><label for="checkbox55">considering the new identifier hash (I have two PDFs colliding on SHA1 in the evil PDF corpus; since Qiqqa uses a ‘stripped’ version of SHA1 (bug since start of life), there’s more collisions probable. Need the same keying system for other files too, BTW.</label>
<ul>
<li><input type="checkbox" id="checkbox56"><label for="checkbox56"> SHA512 is reported as generally </label><em>faster</em> than SHA256. There’s also a SHA512 “special” called SHA512/256, which takes care of the usual shitty results you get re distrib/collis when <em>truncating</em> (crypto) hashes: <a href="https://eprint.iacr.org/2010/548.pdf">https://eprint.iacr.org/2010/548.pdf</a> + <a href="https://crypto.stackexchange.com/questions/26336/sha-512-faster-than-sha-256">https://crypto.stackexchange.com/questions/26336/sha-512-faster-than-sha-256</a> → BLAKE2b → BLAKE3 (<a href="https://github.com/BLAKE3-team/BLAKE3">https://github.com/BLAKE3-team/BLAKE3</a>) (Keep in mind the <a href="https://eprint.iacr.org/2019/1492.pdf">Too Much Crypto</a> article: this would however replace our b0rked SHA1 keying with a <em>faster</em> and <em>better</em> hash: collision risk now effectively zero, instead of ‘a fluke, but <em>possible</em>’ – as shown with the PDFs in the Evil Corpus.</li>
</ul>
</li>
</ul>


    <footer>
      © 2020 Qiqqa Contributors ::
      <a href="https://github.com/GerHobbelt/qiqqa-open-source/blob/docs-src/test-page.md">Edit this page on GitHub</a>
    </footer>
  

</body></html>